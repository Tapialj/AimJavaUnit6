(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4f4a00cc"],{5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"99e4":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c=function(e){return Object(n["u"])("data-v-74ec0169"),e=e(),Object(n["s"])(),e},a=c((function(){return Object(n["g"])("h1",null,"Edit Actor",-1)})),o={key:0,class:"error"},i=c((function(){return Object(n["g"])("label",null,"ERROR: ",-1)}));function s(e,t,r,c,s,u){var f=Object(n["z"])("ActorForm");return Object(n["r"])(),Object(n["f"])("div",null,[a,s.areErrors?(Object(n["r"])(),Object(n["f"])("div",o,[i,Object(n["g"])("h4",null,Object(n["B"])(s.error),1)])):Object(n["e"])("",!0),Object(n["i"])(f,{edit:s.editData,onSaveActor:u.saveActor},null,8,["edit","onSaveActor"])])}var u=r("2909"),f=r("5530"),d=r("1da1"),b=(r("96cf"),r("d3b7"),r("ac1f"),r("5319"),r("159b"),r("99af"),r("4de4"),r("6ca3")),p=(r("c1df"),{components:{ActorForm:b["a"]},props:["id"],data:function(){return{editData:{edit:!0,id:this.id},error:"",areErrors:!1}},methods:{saveActor:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n,c,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("api/actors/".concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e.actor)});case 2:if(n=r.sent,t.areErrors=t.handleErrors(n),t.areErrors){r.next=15;break}return r.next=7,n.json();case 7:return c=r.sent,r.next=10,t.updateAddMovies(c,e.movies);case 10:return r.next=12,t.updateRemoveMovies(c.id,e.moviesRemoved);case 12:t.$router.replace({name:"ActorDetails",params:{id:t.id}}),r.next=19;break;case 15:return r.next=17,n.json();case 17:a=r.sent,t.error=a.message;case 19:case"end":return r.stop()}}),r)})))()},updateAddMovies:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.forEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.actors.some((function(t){return t.id===e.id}))){t.next=5;break}return n=Object(f["a"])(Object(f["a"])({},r),{},{actors:[].concat(Object(u["a"])(r.actors),[e])}),t.next=4,fetch("api/movies/".concat(r.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 4:t.sent;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},updateRemoveMovies:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.forEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(f["a"])(Object(f["a"])({},r),{},{actors:r.actors.filter((function(t){return t.id!==e}))}),t.next=3,fetch("api/movies/".concat(r.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},handleErrors:function(e){return!e.ok}}}),O=(r("e647"),r("6b0d")),j=r.n(O);const l=j()(p,[["render",s],["__scopeId","data-v-74ec0169"]]);t["default"]=l},b64b:function(e,t,r){var n=r("23e7"),c=r("7b0b"),a=r("df75"),o=r("d039"),i=o((function(){a(1)}));n({target:"Object",stat:!0,forced:i},{keys:function(e){return a(c(e))}})},c2e2:function(e,t,r){},dbb4:function(e,t,r){var n=r("23e7"),c=r("83ab"),a=r("56ef"),o=r("fc6a"),i=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,r,n=o(e),c=i.f,u=a(n),f={},d=0;while(u.length>d)r=c(n,t=u[d++]),void 0!==r&&s(f,t,r);return f}})},e439:function(e,t,r){var n=r("23e7"),c=r("d039"),a=r("fc6a"),o=r("06cf").f,i=r("83ab"),s=c((function(){o(1)})),u=!i||s;n({target:"Object",stat:!0,forced:u,sham:!i},{getOwnPropertyDescriptor:function(e,t){return o(a(e),t)}})},e647:function(e,t,r){"use strict";r("c2e2")}}]);
//# sourceMappingURL=chunk-4f4a00cc.74ae461f.js.map