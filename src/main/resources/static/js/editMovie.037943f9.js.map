{"version":3,"sources":["webpack:///./src/views/movies/EditMovie.vue","webpack:///./src/views/movies/EditMovie.vue?36a6"],"names":["class","areErrors","error","edit","editData","saveMovie","components","MovieForm","props","data","id","this","methods","movieData","fetch","method","headers","body","JSON","stringify","res","handleErrors","$router","replace","name","params","json","err","message","response","ok","__exports__","render"],"mappings":"sIAEI,eAAmB,UAAf,cAAU,G,SAETA,MAAM,S,EACT,eAAsB,aAAf,WAAO,G,kFAJlB,eASM,YARJ,EAEyB,EAAAC,W,iBAAzB,eAGM,MAHN,EAGM,CAFJ,EACA,eAAoB,yBAAb,EAAAC,OAAK,M,sBAGd,eAAsD,GAA1CC,KAAM,EAAAC,SAAW,YAAY,EAAAC,W,uGAO5B,GACbC,WAAY,CACVC,YAAA,MAEFC,MAAO,CACL,MAEFC,KAPa,WAQX,MAAO,CACLL,SAAU,CACRD,MAAM,EACNO,GAAIC,KAAKD,IAEXR,MAAO,GACPD,WAAW,IAGfW,QAAS,CACDP,UADC,SACSQ,GAAW,gLACPC,MAAM,cAAD,OAAe,EAAKJ,IAAM,CAC/CK,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUN,KANE,UACnBO,EADmB,OASzB,EAAKnB,UAAY,EAAKoB,aAAaD,GAE/B,EAAKnB,UAXgB,gBAYvB,EAAKqB,QAAQC,QAAQ,CAACC,KAAM,eAAgBC,OAAQ,CAACf,GAAI,EAAKA,MAZvC,wCAeLU,EAAIM,OAfC,QAejBC,EAfiB,OAgBvB,EAAKzB,MAAQyB,EAAIC,QAhBM,+CAmB3BP,aApBO,SAoBMQ,GACX,OAAGA,EAASC,M,qBCjDpB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD","file":"js/editMovie.037943f9.js","sourcesContent":["<template>\r\n  <div>\r\n    <h1>Edit Movie</h1>\r\n\r\n    <div class=\"error\" v-if=\"areErrors\">\r\n      <label>ERROR: </label>\r\n      <h4>{{ error }}</h4>\r\n    </div>\r\n\r\n    <MovieForm :edit=\"editData\" @save-movie=\"saveMovie\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import MovieForm from \"@/components/Forms/MovieForm.vue\";\r\n\r\n  export default {\r\n    components: {\r\n      MovieForm,\r\n    },\r\n    props: [\r\n      \"id\"\r\n    ],\r\n    data() {\r\n      return {\r\n        editData: {\r\n          edit: true,\r\n          id: this.id\r\n        },\r\n        error: \"\",\r\n        areErrors: false,\r\n      };\r\n    },\r\n    methods: {\r\n      async saveMovie(movieData) {\r\n        const res = await fetch(`api/movies/${this.id}`, {\r\n          method: \"PUT\",\r\n          headers: {\r\n            \"Content-type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(movieData)\r\n        });\r\n\r\n        this.areErrors = this.handleErrors(res);\r\n\r\n        if(!this.areErrors) {\r\n          this.$router.replace({name: \"MovieDetails\", params: {id: this.id }});\r\n        }\r\n        else {\r\n          const err = await res.json();\r\n          this.error = err.message;\r\n        }\r\n      },\r\n      handleErrors(response) {\r\n        if(response.ok) {\r\n          return false;\r\n        }\r\n        else {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./EditMovie.vue?vue&type=template&id=1556c559\"\nimport script from \"./EditMovie.vue?vue&type=script&lang=js\"\nexport * from \"./EditMovie.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Fullstack-java\\\\capstone\\\\src\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}