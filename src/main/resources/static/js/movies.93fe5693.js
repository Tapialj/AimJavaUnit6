(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["movies"],{"0b42":function(e,t,n){var o=n("da84"),r=n("e8b5"),c=n("68ee"),i=n("861d"),a=n("b622"),u=a("species"),s=o.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,c(t)&&(t===s||r(t.prototype))?t=void 0:i(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?s:t}},"1dde":function(e,t,n){var o=n("d039"),r=n("b622"),c=n("2d00"),i=r("species");e.exports=function(e){return c>=51||!o((function(){var t=[],n=t.constructor={};return n[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"260e":function(e,t,n){},"2a7d":function(e,t,n){"use strict";var o=n("7a23"),r=["type"];function c(e,t,n,c,i,a){return Object(o["r"])(),Object(o["f"])("button",{class:"btn",type:n.type,onClick:t[0]||(t[0]=function(e){return a.onClick()})},Object(o["B"])(n.title),9,r)}var i={name:"Button",props:{title:String,type:{default:"submit",type:String}},methods:{onClick:function(){this.$emit("btn-click")}},emits:["btn-click"]},a=(n("e07c"),n("6b0d")),u=n.n(a);const s=u()(i,[["render",c],["__scopeId","data-v-6cbfb26a"]]);t["a"]=s},"408a":function(e,t,n){var o=n("e330");e.exports=o(1..valueOf)},4169:function(e,t,n){"use strict";var o=n("7a23");function r(e,t,n,r,c,i){var a=Object(o["z"])("Backdrop");return Object(o["r"])(),Object(o["d"])(a,{onOnModal:i.onModal},{default:Object(o["I"])((function(){return[Object(o["g"])("div",{class:"modal",onClick:t[0]||(t[0]=Object(o["K"])((function(){}),["stop"]))},[Object(o["y"])(e.$slots,"default",{},void 0,!0)])]})),_:3},8,["onOnModal"])}function c(e,t,n,r,c,i){return Object(o["r"])(),Object(o["f"])("div",{class:"backdrop",onClick:t[0]||(t[0]=function(){return i.onModal&&i.onModal.apply(i,arguments)})},[Object(o["y"])(e.$slots,"default",{},void 0,!0)])}var i={name:"Backdrop",methods:{onModal:function(){this.$emit("onModal")}},emits:["onModal"]},a=(n("b662"),n("6b0d")),u=n.n(a);const s=u()(i,[["render",c],["__scopeId","data-v-8fe020ca"]]);var l=s,d={name:"Modal",components:{Backdrop:l},props:{},methods:{onModal:function(){this.$emit("onModal")}},emits:["onModal"]};n("c25a");const f=u()(d,[["render",r],["__scopeId","data-v-a5fb2aac"]]);t["a"]=f},"4de4":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").filter,c=n("1dde"),i=c("filter");o({target:"Array",proto:!0,forced:!i},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e39":function(e,t,n){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("e330"),r=n("1d80"),c=n("577e"),i=n("5899"),a=o("".replace),u="["+i+"]",s=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),d=function(e){return function(t){var n=c(r(t));return 1&e&&(n=a(n,s,"")),2&e&&(n=a(n,l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},"5e22":function(e,t,n){},"65f0":function(e,t,n){var o=n("0b42");e.exports=function(e,t){return new(o(e))(0===t?0:t)}},7156:function(e,t,n){var o=n("1626"),r=n("861d"),c=n("d2bb");e.exports=function(e,t,n){var i,a;return c&&o(i=t.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&c(e,a),e}},"8f5e":function(e,t,n){"use strict";n("260e")},a9e3:function(e,t,n){"use strict";var o=n("83ab"),r=n("da84"),c=n("e330"),i=n("94ca"),a=n("6eeb"),u=n("1a2d"),s=n("7156"),l=n("3a9b"),d=n("d9b5"),f=n("c04e"),b=n("d039"),v=n("241c").f,p=n("06cf").f,O=n("9bf2").f,m=n("408a"),j=n("58a8").trim,h="Number",M=r[h],g=M.prototype,y=r.TypeError,I=c("".slice),k=c("".charCodeAt),D=function(e){var t=f(e,"number");return"bigint"==typeof t?t:N(t)},N=function(e){var t,n,o,r,c,i,a,u,s=f(e,"number");if(d(s))throw y("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=j(s),t=k(s,0),43===t||45===t){if(n=k(s,2),88===n||120===n)return NaN}else if(48===t){switch(k(s,1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+s}for(c=I(s,2),i=c.length,a=0;a<i;a++)if(u=k(c,a),u<48||u>r)return NaN;return parseInt(c,o)}return+s};if(i(h,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var x,w=function(e){var t=arguments.length<1?0:M(D(e)),n=this;return l(g,n)&&b((function(){m(n)}))?s(Object(t),n,w):t},E=o?v(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),_=0;E.length>_;_++)u(M,x=E[_])&&!u(w,x)&&O(w,x,p(M,x));w.prototype=g,g.constructor=w,a(r,h,w)}},b662:function(e,t,n){"use strict";n("5e22")},b727:function(e,t,n){var o=n("0366"),r=n("e330"),c=n("44ad"),i=n("7b0b"),a=n("07fa"),u=n("65f0"),s=r([].push),l=function(e){var t=1==e,n=2==e,r=3==e,l=4==e,d=6==e,f=7==e,b=5==e||d;return function(v,p,O,m){for(var j,h,M=i(v),g=c(M),y=o(p,O),I=a(g),k=0,D=m||u,N=t?D(v,I):n||f?D(v,0):void 0;I>k;k++)if((b||k in g)&&(j=g[k],h=y(j,k,M),e))if(t)N[k]=h;else if(h)switch(e){case 3:return!0;case 5:return j;case 6:return k;case 2:s(N,j)}else switch(e){case 4:return!1;case 7:s(N,j)}return d?-1:r||l?l:N}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},bd45:function(e,t,n){},c25a:function(e,t,n){"use strict";n("4e39")},e07c:function(e,t,n){"use strict";n("bd45")},e8b5:function(e,t,n){var o=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fff9:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),r={class:"flex movies no-align"},c={class:"flex row"},i=Object(o["g"])("h1",null,"Movies",-1);function a(e,t,n,a,u,s){var l=Object(o["z"])("Button"),d=Object(o["z"])("MovieTable"),f=Object(o["z"])("Modal");return Object(o["r"])(),Object(o["f"])("div",r,[Object(o["g"])("div",c,[i,Object(o["i"])(l,{title:"Add Movie",onBtnClick:s.addMovie},null,8,["onBtnClick"])]),Object(o["i"])(d,{movies:u.movies,onOnDelete:s.onDelete},null,8,["movies","onOnDelete"]),u.deleteModalOpen?(Object(o["r"])(),Object(o["d"])(f,{key:0,onOnModal:s.onDeleteModal},{default:Object(o["I"])((function(){return[Object(o["g"])("p",null," Are you sure you want to delete "+Object(o["B"])(u.movieDelete.title)+"? ",1),Object(o["i"])(l,{title:"Delete",onBtnClick:t[0]||(t[0]=function(e){return s.deleteMovie(u.movieDelete.id)})})]})),_:1},8,["onOnModal"])):Object(o["e"])("",!0)])}var u=n("1da1"),s=(n("96cf"),n("d3b7"),n("4de4"),Object(o["g"])("thead",null,[Object(o["g"])("tr",null,[Object(o["g"])("th",{scope:"col"},"#"),Object(o["g"])("th",{scope:"col"},"Title"),Object(o["g"])("th",{scope:"col"},"Length"),Object(o["g"])("th",{scope:"col"})])],-1));function l(e,t,n,r,c,i){var a=Object(o["z"])("Movie");return Object(o["r"])(),Object(o["f"])("div",null,[Object(o["g"])("table",null,[s,Object(o["g"])("tbody",null,[(Object(o["r"])(!0),Object(o["f"])(o["a"],null,Object(o["x"])(n.movies,(function(e,t){return Object(o["r"])(),Object(o["f"])("tr",{key:e.id},[Object(o["i"])(a,{movie:e,listNumber:++t,onOnDelete:i.onDelete},null,8,["movie","listNumber","onOnDelete"])])})),128))])])])}var d={class:"id"},f={class:"title"},b={class:"delete"};function v(e,t,n,r,c,i){var a=Object(o["z"])("router-link");return Object(o["r"])(),Object(o["f"])(o["a"],null,[Object(o["g"])("td",d,Object(o["B"])(n.listNumber),1),Object(o["g"])("td",f,[Object(o["i"])(a,{to:{name:"MovieDetails",params:{id:n.movie.id}}},{default:Object(o["I"])((function(){return[Object(o["h"])(Object(o["B"])(n.movie.title),1)]})),_:1},8,["to"])]),Object(o["g"])("td",null,Object(o["B"])(n.movie.movieLength)+" mins",1),Object(o["g"])("td",b,[Object(o["g"])("p",{onClick:t[0]||(t[0]=function(e){return i.onDelete(n.movie)})},"Delete")])],64)}n("a9e3");var p={name:"Movie",props:{movie:Object,listNumber:Number},methods:{onDelete:function(e){this.$emit("onDelete",e)}},emits:["onDelete"]},O=(n("8f5e"),n("6b0d")),m=n.n(O);const j=m()(p,[["render",v],["__scopeId","data-v-7824ae74"]]);var h=j,M={name:"MovieTable",components:{Movie:h},props:{movies:Array},methods:{onDelete:function(e){this.$emit("onDelete",e)}},emits:["onDelete"]};const g=m()(M,[["render",l]]);var y=g,I=n("2a7d"),k=n("4169"),D={components:{MovieTable:y,Button:I["a"],Modal:k["a"]},data:function(){return{movies:[],deleteModalOpen:!1,movieDelete:{}}},methods:{onDelete:function(e){this.movieDelete=e,this.deleteModalOpen=!this.deleteModalOpen},onDeleteModal:function(){this.deleteModalOpen=!this.deleteModalOpen},deleteMovie:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/movies/".concat(e),{method:"DELETE",headers:{"Content-type":"application/json"}});case 2:t.movies=t.movies.filter((function(t){return t.id!==e})),t.movieDelete=null,t.deleteModalOpen=!t.deleteModalOpen;case 5:case"end":return n.stop()}}),n)})))()},fetchMovies:function(){return Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))()},addMovie:function(){this.$router.push({name:"AddMovie"})}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.fetchMovies();case 2:e.movies=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};const N=m()(D,[["render",a]]);t["default"]=N}}]);
//# sourceMappingURL=movies.93fe5693.js.map