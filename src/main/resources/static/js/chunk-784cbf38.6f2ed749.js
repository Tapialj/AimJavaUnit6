(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-784cbf38"],{"062d":function(e,t,r){"use strict";r("99f9")},"0cb2":function(e,t,r){var n=r("e330"),c=r("7b0b"),i=Math.floor,o=n("".charAt),a=n("".replace),s=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,d=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,f,l){var b=r+e.length,v=n.length,p=d;return void 0!==f&&(f=c(f),p=u),a(l,p,(function(c,a){var u;switch(o(a,0)){case"$":return"$";case"&":return e;case"`":return s(t,0,r);case"'":return s(t,b);case"<":u=f[s(a,1,-1)];break;default:var d=+a;if(0===d)return c;if(d>v){var l=i(d/10);return 0===l?c:l<=v?void 0===n[l-1]?o(a,1):n[l-1]+o(a,1):c}u=n[d-1]}return void 0===u?"":u}))}},"14c3":function(e,t,r){var n=r("da84"),c=r("c65b"),i=r("825a"),o=r("1626"),a=r("c6b6"),s=r("9263"),u=n.TypeError;e.exports=function(e,t){var r=e.exec;if(o(r)){var n=c(r,e,t);return null!==n&&i(n),n}if("RegExp"===a(e))return c(s,e,t);throw u("RegExp#exec called on incompatible receiver")}},"159b":function(e,t,r){var n=r("da84"),c=r("fdbc"),i=r("785a"),o=r("17c2"),a=r("9112"),s=function(e){if(e&&e.forEach!==o)try{a(e,"forEach",o)}catch(t){e.forEach=o}};for(var u in c)c[u]&&s(n[u]&&n[u].prototype);s(i)},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,c=r("a640"),i=c("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},2532:function(e,t,r){"use strict";var n=r("23e7"),c=r("e330"),i=r("5a34"),o=r("1d80"),a=r("577e"),s=r("ab13"),u=c("".indexOf);n({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~u(a(o(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,r){"use strict";var n=r("23e7"),c=r("b727").filter,i=r("1dde"),o=i("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(e){return c(this,e,arguments.length>1?arguments[1]:void 0)}})},5319:function(e,t,r){"use strict";var n=r("2ba4"),c=r("c65b"),i=r("e330"),o=r("d784"),a=r("d039"),s=r("825a"),u=r("1626"),d=r("5926"),f=r("50c4"),l=r("577e"),b=r("1d80"),v=r("8aa5"),p=r("dc4a"),h=r("0cb2"),m=r("14c3"),O=r("b622"),j=O("replace"),g=Math.max,x=Math.min,y=i([].concat),w=i([].push),k=i("".indexOf),M=i("".slice),R=function(e){return void 0===e?e:String(e)},D=function(){return"$0"==="a".replace(/./,"$0")}(),N=function(){return!!/./[j]&&""===/./[j]("a","$0")}(),E=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));o("replace",(function(e,t,r){var i=N?"$":"$0";return[function(e,r){var n=b(this),i=void 0==e?void 0:p(e,j);return i?c(i,e,n,r):c(t,l(n),e,r)},function(e,c){var o=s(this),a=l(e);if("string"==typeof c&&-1===k(c,i)&&-1===k(c,"$<")){var b=r(t,o,a,c);if(b.done)return b.value}var p=u(c);p||(c=l(c));var O=o.global;if(O){var j=o.unicode;o.lastIndex=0}var D=[];while(1){var N=m(o,a);if(null===N)break;if(w(D,N),!O)break;var E=l(N[0]);""===E&&(o.lastIndex=v(a,f(o.lastIndex),j))}for(var P="",$=0,S=0;S<D.length;S++){N=D[S];for(var F=l(N[0]),J=g(x(d(N.index),a.length),0),A=[],B=1;B<N.length;B++)w(A,R(N[B]));var T=N.groups;if(p){var U=y([F],A,J,a);void 0!==T&&w(U,T);var I=l(n(c,void 0,U))}else I=h(F,a,J,A,T,c);J>=$&&(P+=M(a,$,J)+I,$=J+F.length)}return P+M(a,$)}]}),!E||!D||N)},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5a34":function(e,t,r){var n=r("da84"),c=r("44e7"),i=n.TypeError;e.exports=function(e){if(c(e))throw i("The method doesn't accept regular expressions");return e}},"5b0a":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),c=function(e){return Object(n["u"])("data-v-26d2621e"),e=e(),Object(n["s"])(),e},i=c((function(){return Object(n["g"])("h1",null,"Edit Director",-1)})),o={key:0,class:"error"},a=c((function(){return Object(n["g"])("label",null,"ERROR: ",-1)}));function s(e,t,r,c,s,u){var d=Object(n["z"])("DirectorForm");return Object(n["r"])(),Object(n["f"])("div",null,[i,s.areErrors?(Object(n["r"])(),Object(n["f"])("div",o,[a,Object(n["g"])("h4",null,Object(n["B"])(s.error),1)])):Object(n["e"])("",!0),Object(n["i"])(d,{edit:s.editData,onSaveDirector:u.saveDirector},null,8,["edit","onSaveDirector"])])}var u=r("5530"),d=r("1da1"),f=(r("96cf"),r("d3b7"),r("ac1f"),r("5319"),r("159b"),r("6fcb")),l={components:{DirectorForm:f["a"]},props:["id"],data:function(){return{editData:{edit:!0,id:this.id},error:"",areErrors:!1}},methods:{saveDirector:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n,c,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("api/directors/".concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(e.director)});case 2:if(n=r.sent,t.areErrors=t.handleErrors(n),t.areErrors){r.next=15;break}return r.next=7,n.json();case 7:return c=r.sent,r.next=10,t.updateAddMovies(c,e.movies);case 10:return r.next=12,t.updateRemoveMovies(e.moviesRemoved);case 12:t.$router.replace({name:"DirectorDetails",params:{id:t.id}}),r.next=19;break;case 15:return r.next=17,n.json();case 17:i=r.sent,t.error=i.message;case 19:case"end":return r.stop()}}),r)})))()},updateAddMovies:function(e,t){return Object(d["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.forEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(u["a"])(Object(u["a"])({},r),{},{director:e}),t.next=3,fetch("api/movies/".concat(r.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(n)});case 3:t.sent;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)})))()},updateRemoveMovies:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.forEach(function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(u["a"])(Object(u["a"])({},t),{},{director:{}}),e.next=3,fetch("api/movies/".concat(t.id),{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(r)});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},handleErrors:function(e){return!e.ok}}},b=(r("e31d"),r("6b0d")),v=r.n(b);const p=v()(l,[["render",s],["__scopeId","data-v-26d2621e"]]);t["default"]=p},"6fcb":function(e,t,r){"use strict";var n=r("7a23"),c=function(e){return Object(n["u"])("data-v-dbb0a930"),e=e(),Object(n["s"])(),e},i={key:0},o={key:0,class:"error"},a=c((function(){return Object(n["g"])("label",null,"Please correct the following error(s):",-1)})),s={class:"form-control"},u=c((function(){return Object(n["g"])("label",{for:"firstName"},"First Name",-1)})),d={class:"form-control"},f=c((function(){return Object(n["g"])("label",{for:"lastName"},"Last Name",-1)})),l={key:1},b={class:"form-control flex"},v=c((function(){return Object(n["g"])("label",{for:"movie"},"Movies",-1)})),p={class:"grid check-container"},h=["id","value"],m=["for"];function O(e,t,r,c,O,j){var g=Object(n["z"])("Button");return Object(n["r"])(),Object(n["f"])(n["a"],null,[r.isModal?(Object(n["r"])(),Object(n["f"])("h1",i,"Add Director")):Object(n["e"])("",!0),Object(n["g"])("form",{class:"form",onSubmit:t[3]||(t[3]=Object(n["K"])((function(){return j.checkForm&&j.checkForm.apply(j,arguments)}),["prevent"])),novalidate:""},[O.errors.length?(Object(n["r"])(),Object(n["f"])("div",o,[a,Object(n["g"])("ul",null,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(O.errors,(function(e){return Object(n["r"])(),Object(n["f"])("li",{key:e},Object(n["B"])(e),1)})),128))])])):Object(n["e"])("",!0),Object(n["g"])("div",s,[u,Object(n["J"])(Object(n["g"])("input",{type:"text",id:"firstName",name:"firstName","onUpdate:modelValue":t[0]||(t[0]=function(e){return O.director.firstName=e})},null,512),[[n["G"],O.director.firstName]])]),Object(n["g"])("div",d,[f,Object(n["J"])(Object(n["g"])("input",{type:"text",id:"lastName",name:"lastName","onUpdate:modelValue":t[1]||(t[1]=function(e){return O.director.lastName=e})},null,512),[[n["G"],O.director.lastName]])]),r.isModal?Object(n["e"])("",!0):(Object(n["r"])(),Object(n["f"])("div",l,[Object(n["g"])("div",b,[v,Object(n["g"])("div",p,[(Object(n["r"])(!0),Object(n["f"])(n["a"],null,Object(n["x"])(O.movies,(function(e){return Object(n["r"])(),Object(n["f"])("div",{key:e.id,class:"checkbox"},[Object(n["J"])((Object(n["r"])(),Object(n["f"])("input",{key:e.id,type:"checkbox",name:"movie",id:[e.lastName,e.firstName],value:e.id,"onUpdate:modelValue":t[2]||(t[2]=function(e){return O.selectedMovies=e})},null,8,h)),[[n["D"],O.selectedMovies]]),Object(n["g"])("label",{for:e.id},Object(n["B"])(e.title),9,m)])})),128))])])])),Object(n["i"])(g,{title:"Save Director"})],32)],64)}var j=r("1da1"),g=(r("96cf"),r("4de4"),r("caad"),r("2532"),r("d3b7"),r("159b"),r("2a7d")),x={name:"DirectorForm",components:{Button:g["a"]},props:{edit:{default:function(){return{edit:!1}},type:Object},isModal:{default:!1}},data:function(){return{errors:[],movies:[],director:{lastName:"",firstName:""},selectedMovies:[],removedMovies:[],checkRemoved:[],selectedMovieObjects:[],removedMovieObjects:[]}},methods:{checkForm:function(){this.errors=[],this.director.firstName&&""!==this.director.firstName||this.errors.push("First Name is Required"),this.director.lastName&&""!==this.director.lastName||this.errors.push("Last Name is Required"),this.errors.length||this.submitDirector()},directedBy:function(e){return e===this.director.id},submitDirector:function(){this.selectMovies(),this.removeMovies(),this.$emit("save-director",{director:this.director,movies:this.selectedMovieObjects,moviesRemoved:this.removedMovieObjects})},selectMovies:function(){var e=this;this.selectedMovieObjects=this.movies.filter((function(t){if(e.selectedMovies.includes(t.id))return t}))},removeMovies:function(){var e=this;this.removedMovieObjects=this.movies.filter((function(t){if(e.checkRemoved.includes(t.id)&&!e.selectedMovies.includes(t.id))return t}))},getMovies:function(){return Object(j["a"])(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/movies");case 2:return t=e.sent,e.next=5,t.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))()},getDirectorDetails:function(e){return Object(j["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/directors/".concat(e));case 2:return r=t.sent,t.next=5,r.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))()}},emits:["save-director"],created:function(){var e=this;return Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMovies();case 2:if(e.movies=t.sent,!e.edit.edit){t.next=9;break}return t.next=6,e.getDirectorDetails(e.edit.id);case 6:e.director=t.sent,e.movies.forEach((function(t){t.director.id===e.director.id&&e.selectedMovies.push(t.id)})),e.checkRemoved=e.selectedMovies;case 9:case"end":return t.stop()}}),t)})))()}},y=(r("062d"),r("6b0d")),w=r.n(y);const k=w()(x,[["render",O],["__scopeId","data-v-dbb0a930"]]);t["a"]=k},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"99f9":function(e,t,r){},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},ab13:function(e,t,r){var n=r("b622"),c=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[c]=!1,"/./"[e](t)}catch(n){}}return!1}},b64b:function(e,t,r){var n=r("23e7"),c=r("7b0b"),i=r("df75"),o=r("d039"),a=o((function(){i(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(e){return i(c(e))}})},d394:function(e,t,r){},d784:function(e,t,r){"use strict";r("ac1f");var n=r("e330"),c=r("6eeb"),i=r("9263"),o=r("d039"),a=r("b622"),s=r("9112"),u=a("species"),d=RegExp.prototype;e.exports=function(e,t,r,f){var l=a(e),b=!o((function(){var t={};return t[l]=function(){return 7},7!=""[e](t)})),v=b&&!o((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[l]=/./[l]),r.exec=function(){return t=!0,null},r[l](""),!t}));if(!b||!v||r){var p=n(/./[l]),h=t(l,""[e],(function(e,t,r,c,o){var a=n(e),s=t.exec;return s===i||s===d.exec?b&&!o?{done:!0,value:p(t,r,c)}:{done:!0,value:a(r,t,c)}:{done:!1}}));c(String.prototype,e,h[0]),c(d,l,h[1])}f&&s(d[l],"sham",!0)}},dbb4:function(e,t,r){var n=r("23e7"),c=r("83ab"),i=r("56ef"),o=r("fc6a"),a=r("06cf"),s=r("8418");n({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(e){var t,r,n=o(e),c=a.f,u=i(n),d={},f=0;while(u.length>f)r=c(n,t=u[f++]),void 0!==r&&s(d,t,r);return d}})},e31d:function(e,t,r){"use strict";r("d394")},e439:function(e,t,r){var n=r("23e7"),c=r("d039"),i=r("fc6a"),o=r("06cf").f,a=r("83ab"),s=c((function(){o(1)})),u=!a||s;n({target:"Object",stat:!0,forced:u,sham:!a},{getOwnPropertyDescriptor:function(e,t){return o(i(e),t)}})}}]);
//# sourceMappingURL=chunk-784cbf38.6f2ed749.js.map